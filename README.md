# RADIOGUIDE STUDIO — Сервис расчёта стоимости

Этот веб-сервис позволяет автоматически рассчитать стоимость записи и обработки текста на основе количества символов (с пробелами), полученного из загруженного документа формата **.docx** или введённого вручную.

## Особенности

- **Загрузка файла .docx:**  
  Автоматически извлекается текст из документа, определяется количество символов и выполняется расчет времени записи и обработки, а также общей стоимости.
  
- **Ручной ввод количества символов:**  
  Если по каким-либо причинам документ загрузить невозможно, можно ввести количество символов вручную через удобное модальное окно (с цифровой клавиатурой на мобильных устройствах).  
  Допускается ввод только положительного целого числа, не превышающего **10 000 000**.

- **Гибкость расчётов:**  
  Сервис сохраняет текущее значение количества символов (из файла или введённое вручную) и позволяет выполнять повторные расчёты без повторного ввода данных до тех пор, пока пользователь не выполнит новое действие (загрузку файла или новый ручной ввод).

- **Опциональные параметры:**  
  Можно задать дополнительную стоимость услуг (например, музыка, эффекты) и процент скидки. Если скидка равна 0 или не указана, строка с итоговой стоимостью со скидкой не отображается.

## Технологии

- **Python** — язык программирования
- **Flask** — веб-фреймворк для создания сервиса
- **python-docx** — для извлечения текста из .docx файлов
- **unidecode** — для транслитерации имён файлов с кириллицей
- HTML, CSS, JavaScript — для реализации пользовательского интерфейса

## Установка и запуск

### Требования

- Python 3.7+
- pip

### Шаги установки

1. **Клонируйте репозиторий:**
   ```bash
   git clone <URL_репозитория>
   cd <имя_папки_репозитория>
   ```

2. **Создайте виртуальное окружение:**
   ```bash
   python -m venv venv
   ```

3. **Активируйте виртуальное окружение:**
   - На Windows:
     ```bash
     venv\Scripts\activate
     ```
   - На macOS/Linux:
     ```bash
     source venv/bin/activate
     ```

4. **Установите зависимости:**
   ```bash
   pip install Flask python-docx unidecode
   ```

5. **Запустите приложение:**
   ```bash
   python app.py
   ```
   Приложение будет доступно по адресу [http://127.0.0.1:5000/](http://127.0.0.1:5000/).

## Использование

1. **Откройте веб-браузер** и перейдите по адресу, указанному при запуске (обычно [http://127.0.0.1:5000/](http://127.0.0.1:5000/)).

2. **Выберите способ ввода текста:**
   - **Загрузка файла:**  
     Нажмите кнопку **"Выберите файл"** и загрузите документ формата **.docx**. После загрузки справа от кнопки отобразится имя загруженного файла.
   - **Ручной ввод:**  
     Нажмите ссылку **"Введите количество символов (с пробелами) вручную"**, откроется модальное окно с полем для ввода. Введите положительное целое число (не больше 10 000 000). После подтверждения справа от кнопки отобразится надпись вида:  
     **"Ручной ввод: X символов"**, где *X* — введённое значение.

3. **Заполните поля стоимости:**  
   Введите стоимость работы диктора, аренды студии, работы звукорежиссёра и, при необходимости, стоимость дополнительных услуг. Поля станут доступны после загрузки файла или ввода количества символов вручную.

4. **Укажите скидку (опционально):**  
   Введите процент скидки. Если скидка равна 0 или не введена, строка с итоговой стоимостью со скидкой не отображается.

5. **Нажмите кнопку "Анализировать"** для получения результатов расчёта.

6. **Повторные расчёты:**  
   Если вы не меняли источник количества символов (файл или ручной ввод), вы можете изменять остальные поля и повторно выполнять расчёты. Текущее значение количества символов сохраняется до загрузки нового файла или ввода нового числа вручную.

## Структура проекта

- **app.py** — основной файл приложения, реализующий логику сервиса.
- **templates/index.html** — HTML-шаблон с CSS и JavaScript для пользовательского интерфейса.
- **uploads/** — папка для сохранения загруженных файлов (создаётся автоматически, если не существует).

## Примечания

- Приложение рассчитано на использование как на настольных, так и на мобильных устройствах.
- Модальное окно для ручного ввода обеспечивает отображение цифровой клавиатуры на мобильных устройствах.

## Лицензия

 © Radioguide LLC 2025
